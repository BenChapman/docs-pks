---
title: Prerequisites and Resource Requirements
owner: PKS
---

This topic describes the prerequisites and resource requirements for installing Pivotal Container Service (PKS) with or without NSX-T integration.

##<a id='general'></a> General PKS Prerequisites

* [Ops Manager v2.0](#ops-man)
* [PKS CLI](installing-pks-cli.html)
  <p class="note warning"><strong>WARNING</strong>: The PKS CLI is under active development and commands may change. To ensure you have installed the latest version, we recommend that you re-install the PKS CLI before you use it. To install the PKS CLI, see <a href="installing-pks-cli.html">Installing the PKS CLI</a>.</p>
* [Kubernetes CLI](https://kubernetes.io/docs/tasks/tools/install-kubectl/) (`kubectl`)
* An external load balancer to access the PKS API
* An external load balancer to access each created cluster

###<a id='ops-man'></a> Ops Manager v2.0

To install PKS, you must have Ops Manager v2.0 installed. Consult the following documentation specific to your IaaS:

* [vSphere](https://docs-pcf-staging.cfapps.io/pivotalcf/2-0/customizing/vsphere.html)
* [Google Cloud Platform](https://docs-pcf-staging.cfapps.io/pivotalcf/2-0/customizing/gcp.html) (GCP)

Configure the following settings in the Ops Manager Director tile before you install PKS:

* Select **Enable Post Deploy Scripts** on the **Director Config** page.
  <p class="note"><strong>Note</strong>: This setting enables post-deploy scripts for all tiles in your Ops Manager installation.</p>
* Create a service network for PKS.
* If you disabled BOSH DNS, you must re-enable BOSH DNS and redeploy PCF. For more information about opting out of BOSH DNS, see [this KB article](https://discuss.pivotal.io/hc/en-us/articles/115015720428-Disabling-or-Opting-Out-of-BOSH-DNS-in-PCF).
* If you are using GCP, configure your services subnet to use a DNS range from the internal Google network on the **Create Networks** page.

##<a id='resources'></a> Resource Requirements

Installing PKS deploys the following two virtual machines (VMs):

<table>
<tr>
<th>VM</th>
<th>CPU</th>
<th>RAM</th>
<th>Storage</th>
</tr>
<td>Pivotal Container Service</td>
<td>1</td>
<td>4 GB</td>
<td>20 GB</td>
</tr>
<td>Pivotal Ops Manager</td>
<td>1</td>
<td>8 GB</td>
<td>160 GB</td>
</tr>
</table>

Each Kubernetes cluster provisioned through PKS deploys the following VMs:

<table>
<tr>
<th>Number</th>
<th>VM</th>
<th>CPU</th>
<th>RAM</th>
<th>Ephemeral Disk</th>
<th>Persistent Disk</th>
</tr>
<td>1</td>
<td>etcd</td>
<td>1</td>
<td>1 GB</td>
<td>8 GB</td>
<td>2 GB</td>
</tr>
</tr>
<td>1</td>
<td>master</td>
<td>1</td>
<td>4 GB</td>
<td>8 GB</td>
<td>n/a</td>
</tr>
<tr>
<td>1</td>
<td>worker node</td>
<td>2</td>
<td>4 GB</td>
<td>8 GB</td>
<td>10 GB</td>
</tr>
</table>


##<a id='gcp'></a>GCP Prerequisites

In order for Kubernetes to create load balancers and attach persistent disks to pods, you must create a service account with sufficient permissions.

Perform the following steps on the GCP Console:

1. Navigate to **IAM & admin > Service accounts**.
1. Click **Create Service Account**.
1. Enter a name for the service account, and add the following roles:
  * `roles/iam.serviceAccountActor` (**Project > Service Account Actor**)
  * `roles/compute.instanceAdmin`  (**Compute Engine > Compute Instance Admin**)
  * `roles/compute.securityAdmin` (**Compute Engine > Compute Security Admin**)
  * `roles/compute.networkAdmin` (**Compute Engine > Compute Network Admin**)
  * `roles/compute.storageAdmin` (**Compute Engine > Compute Storage Admin**)
  * `roles/compute.viewer` (**Compute Engine > Compute Viewer**)
  <p class="note"><strong>Note</strong>: See the <a href="https://github.com/cloudfoundry-incubator/kubo-deployment/blob/master/docs/user-guide/platforms/gcp/kubo-infrastructure.tf#L61-L110">kubo-deployment</a> repository for more information about the required roles.</p>
1. Click **Furnish a new private key** and select **JSON**.
1. Click **Create**.

You now have a JSON key that you will need to enter when configuring the PKS tile.

##<a id='vsphere'></a>vSphere

There are no additional prerequisite steps for deploying PKS to vSphere without NSX-T.

To integrate your PKS installation with NSX-T, refer to the requirements in this section.

###<a id='pks-with-nsx-t'></a> PKS with NSX-T Integration

Integrating NSX-T with PKS requires the following vSphere and NSX-T version dependencies:

<table class="nice">
    <th>Component</th>
    <th>Version</th>
    <tr>
        <td>VMware vSphere</td>
        <td>6.5 GA and 6.5 U1</td>
    </tr>
    <tr>
        <td>VMware NSX-T</td>
        <td>2.1</td>
    </tr>
</table>

Deploying NSX-T requires the additional following resources from your vSphere environment:

<table>
<tr>
  <th>NSX-T Component</th>
  <th>Instance Count</th>
  <th>Memory per Instance</th>
  <th>vCPU per Instance</th>
  <th>Disk Space per Instance</th>
</tr>
<tr>
  <td>NSX-T Manager Appliance</td>
    <td>1</td>
    <td>16 GB</td>
    <td>4</td>
    <td>140 GB</td>
</tr>
<tr>
  <td>NSX-T Controller(s)</td>
    <td>1 or 3</td>
    <td>16 GB</td>
    <td>4</td>
    <td>120 GB</td>
</tr>
<tr>
  <td>NSX-T Edge</td>
    <td>1 up to 8 </td>
    <td>16 GB</td>
    <td>8</td>
    <td>120 GB</td>
</tr>
</table>





