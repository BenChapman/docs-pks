---
title: Prerequisites and Resource Requirements
owner: PKS
---

This topic describes the prerequisites and resource requirements for installing Pivotal Container Service (PKS) with or without NSX-T integration.

##<a id='general'></a> General PKS Prerequisites

* [Ops Manager v2.0](#ops-man)
* [PKS CLI](installing-pks-cli.html)
  <p class="note warning"><strong>WARNING</strong>: The PKS CLI is under active development and commands may change. To ensure you have installed the latest version, we recommend that you re-install the PKS CLI before you use it. To install the PKS CLI, see <a href="installing-pks-cli.html">Installing the PKS CLI</a>.</p>
* [Kubernetes CLI](https://kubernetes.io/docs/tasks/tools/install-kubectl/)
* An external load balancer to access the PKS API
* An external load balancer to access each created cluster

###<a id='ops-man'></a> Ops Manager v2.0

To install PKS, you must have Ops Manager v2.0 installed. Consult the following documentation specific to your IaaS:

* [vSphere](preparing-vsphere.html)
* [Google Cloud Platform](./preparing-gcp.html) (GCP)

<p class="note"><strong>Note</strong>: If you have Pivotal Application Service (PAS) installed, Pivotal recommends installing PKS on a separate instance of Ops Manager v2.0.</p>

Configure the following settings in the Ops Manager Director tile before you install PKS:

* Select **Enable Post Deploy Scripts** on the **Director Config** page.
  <p class="note"><strong>Note</strong>: This setting enables post-deploy scripts for all tiles in your Ops Manager installation.</p>
* Create a service network for PKS.
* Ensure that BOSH DNS is enabled. If you disabled BOSH DNS, you must re-enable it and redeploy PCF.
  <p class="note"><strong>Note</strong>: BOSH DNS must be enabled in all PKS deployments. If PAS and PKS are running on the same instance of Ops Manager, you cannot use the opt-out feature of BOSH DNS for your PAS without breaking PKS. If you want to opt out of BOSH DNS in your PAS deployment, install the tile on a separate instance of Ops Manager. For more information about opting out of BOSH DNS, see <a href="https://discuss.pivotal.io/hc/en-us/articles/115015720428-Disabling-or-Opting-Out-of-BOSH-DNS-in-PCF">this KB article</a> and <a href="https://docs.pivotal.io/pivotalcf/2-0/pcf-release-notes/opsmanager-rn.html#bosh-dns">Ops Manager v2.0 Release Notes</a>.</p>
* If you are using GCP, configure your services subnet to use a DNS range from the internal Google network on the **Create Networks** page.

##<a id='resources'></a> Resource Requirements

Installing PKS deploys the following two virtual machines (VMs):

<table>
  <tr>
    <th>VM</th>
    <th>CPU</th>
    <th>RAM</th>
    <th>Storage</th>
  </tr>
  <tr>
    <td>Pivotal Container Service</td>
    <td>1</td>
    <td>4 GB</td>
    <td>20 GB</td>
  </tr>
  <tr>
    <td>Pivotal Ops Manager</td>
    <td>1</td>
    <td>8 GB</td>
    <td>160 GB</td>
  </tr>
</table>

Each Kubernetes cluster provisioned through PKS deploys the VMs listed below. If you deploy more than one Kubernetes cluster, you must scale your allocated resources appropriately.

<table>
  <tr>
    <th>VM Name</th>
    <th>Number</th>
    <th>CPU Cores</th>
    <th>RAM</th>
    <th>Ephemeral Disk</th>
    <th>Persistent Disk</th>
  </tr>
  <tr>
    <td>etcd</td>
    <td>1</td>
    <td>1</td>
    <td>1 GB</td>
    <td>8 GB</td>
    <td>5 GB</td>
  </tr>
  <tr>
    <td>master</td>
    <td>1</td>
    <td>2</td>
    <td>4 GB</td>
    <td>8 GB</td>
    <td>n/a</td>
  </tr>
  <tr>
    <td>worker</td>
    <td>1</td>
    <td>2</td>
    <td>4 GB</td>
    <td>8 GB</td>
    <td>10 GB</td>
  </tr>
</table>

##<a id='pks-with-nsx-t'></a> PKS with NSX-T Integration

Integrating NSX-T with PKS requires the following vSphere and NSX-T version dependencies:

<table class="nice">
  <tr>
    <th>Component</th>
    <th>Version</th>
  </tr>
  <tr>
    <td>VMware vSphere</td>
    <td>6.5 GA and 6.5 U1</td>
  </tr>
  <tr>
    <td>VMware NSX-T</td>
    <td>2.1</td>
  </tr>
</table>

Deploying NSX-T requires the additional following resources from your vSphere environment:

<table>
  <tr>
    <th>NSX-T Component</th>
    <th>Instance Count</th>
    <th>Memory per Instance</th>
    <th>vCPU per Instance</th>
    <th>Disk Space per Instance</th>
  </tr>
  <tr>
    <td>NSX-T Manager Appliance</td>
    <td>1</td>
    <td>16 GB</td>
    <td>4</td>
    <td>140 GB</td>
  </tr>
  <tr>
    <td>NSX-T Controllers</td>
    <td>1 or 3</td>
    <td>16 GB</td>
    <td>4</td>
    <td>120 GB</td>
  </tr>
  <tr>
    <td>NSX-T Edge</td>
    <td>1 up to 8 </td>
    <td>16 GB</td>
    <td>8</td>
    <td>120 GB</td>
  </tr>
</table>
